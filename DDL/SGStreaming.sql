CREATE DATABASE SGStreaming;

USE SGStreaming;

-- Tabela plano_assinatura (independente)
CREATE TABLE plano_assinatura (
    id_planoass VARCHAR(8) PRIMARY KEY,
    nome_plano VARCHAR(200) NOT NULL,
    preco_mensal DECIMAL(4,2) NOT NULL CHECK (preco_mensal >= 0),
    resolucao_maxima VARCHAR(100) NOT NULL,
    numero_telas INT NOT NULL CHECK (numero_telas BETWEEN 1 AND 4),
    tempo_assinatura INT NOT NULL CHECK (tempo_assinatura > 0)
);

-- Tabela conteudos (independente)
CREATE TABLE conteudos (
    id_conteudo VARCHAR(8) PRIMARY KEY,
    titulo VARCHAR(200) NOT NULL,
    tipo VARCHAR(100) NOT NULL,
    genero VARCHAR(100) NOT NULL,
    ano_lancamento YEAR,
    duracao_minutos INT CHECK (duracao_minutos > 0),
    classificacao_etaria VARCHAR(100) NOT NULL,
    status_disponibilidade VARCHAR(100) NOT NULL CHECK (status_disponibilidade IN ('Disponível', 'Indisponível', 'Em Breve')),
    avaliacao FLOAT(3,1) DEFAULT 0.0 CHECK (avaliacao BETWEEN 0.0 AND 5.0)
);

-- Tabela usuarios (depende de plano_assinatura)
CREATE TABLE usuarios (
    id_usuario VARCHAR(8) PRIMARY KEY,
    nome VARCHAR(200) NOT NULL,
    email VARCHAR(200) NOT NULL UNIQUE,
    telefone VARCHAR(15),
    data_cadastro DATE,
    plano_assinatura_id VARCHAR(8),
    nickname VARCHAR(8) UNIQUE,
    FOREIGN KEY (plano_assinatura_id) REFERENCES plano_assinatura(id_planoass)
);

-- Tabela historico_visualizacao (depende de usuarios e conteudos)
CREATE TABLE historico_visualizacao (
    id_hvisualizacao VARCHAR(8) PRIMARY KEY,
    id_usuario VARCHAR(8) NOT NULL,
    id_conteudo VARCHAR(8) NOT NULL,
    data_visualizacao DATETIME NOT NULL,
    progresso_percentual DECIMAL(5,2) CHECK (progresso_percentual BETWEEN 0 AND 100),
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario),
    FOREIGN KEY (id_conteudo) REFERENCES conteudos(id_conteudo)
);

-- Tabela avaliacoes (depende de usuarios e conteudos)
CREATE TABLE avaliacoes (
    id_avaliacao VARCHAR(8) PRIMARY KEY,
    id_usuario VARCHAR(8) NOT NULL,
    id_conteudo VARCHAR(8) NOT NULL,
    nota INT NOT NULL CHECK (nota BETWEEN 0 AND 5),
    comentario VARCHAR(200),
    data_avaliacao DATE NOT NULL,
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario),
    FOREIGN KEY (id_conteudo) REFERENCES conteudos(id_conteudo),
    UNIQUE (id_usuario, id_conteudo) -- Garante que um usuário não avalie o mesmo conteúdo mais de uma vez
);

INSERT INTO plano_assinatura (id_planoass, nome_plano, preco_mensal, resolucao_maxima, numero_telas, tempo_assinatura) VALUES
('PLA00001', 'Básico', 19.90, 'HD', 1, 1),
('PLA00002', 'Padrão', 29.90, 'Full HD', 2, 6),
('PLA00003', 'Premium', 49.90, '4K', 4, 12),
('PLA00004', 'Básico Anual', 22.90, 'HD', 1, 12),
('PLA00005', 'Padrão Mensal', 34.90, 'Full HD', 2, 1),
('PLA00006', 'Premium Semestral', 54.90, '4K', 4, 6),
('PLA00007', 'Básico', 20.50, 'HD', 1, 1),
('PLA00008', 'Padrão', 31.50, 'Full HD', 2, 6),
('PLA00009', 'Premium', 51.50, '4K', 4, 12),
('PLA00010', 'Básico Anual', 23.50, 'HD', 1, 12),
('PLA00011', 'Padrão Mensal', 35.50, 'Full HD', 2, 1),
('PLA00012', 'Premium Semestral', 55.50, '4K', 4, 6),
('PLA00013', 'Básico', 21.00, 'HD', 1, 1),
('PLA00014', 'Padrão', 32.00, 'Full HD', 2, 6),
('PLA00015', 'Premium', 52.00, '4K', 4, 12),
('PLA00016', 'Básico Anual', 24.00, 'HD', 1, 12),
('PLA00017', 'Padrão Mensal', 36.00, 'Full HD', 2, 1),
('PLA00018', 'Premium Semestral', 56.00, '4K', 4, 6),
('PLA00019', 'Básico', 21.50, 'HD', 1, 1),
('PLA00020', 'Padrão', 32.50, 'Full HD', 2, 6),
('PLA00021', 'Premium', 52.50, '4K', 4, 12),
('PLA00022', 'Básico Anual', 24.50, 'HD', 1, 12),
('PLA00023', 'Padrão Mensal', 36.50, 'Full HD', 2, 1),
('PLA00024', 'Premium Semestral', 56.50, '4K', 4, 6),
('PLA00025', 'Básico', 22.00, 'HD', 1, 1),
('PLA00026', 'Padrão', 33.00, 'Full HD', 2, 6),
('PLA00027', 'Premium', 53.00, '4K', 4, 12),
('PLA00028', 'Básico Anual', 25.00, 'HD', 1, 12),
('PLA00029', 'Padrão Mensal', 37.00, 'Full HD', 2, 1),
('PLA00030', 'Premium Semestral', 57.00, '4K', 4, 6),
('PLA00031', 'Básico', 22.50, 'HD', 1, 1),
('PLA00032', 'Padrão', 33.50, 'Full HD', 2, 6),
('PLA00033', 'Premium', 53.50, '4K', 4, 12),
('PLA00034', 'Básico Anual', 25.50, 'HD', 1, 12),
('PLA00035', 'Padrão Mensal', 37.50, 'Full HD', 2, 1),
('PLA00036', 'Premium Semestral', 57.50, '4K', 4, 6),
('PLA00037', 'Básico', 23.00, 'HD', 1, 1),
('PLA00038', 'Padrão', 34.00, 'Full HD', 2, 6),
('PLA00039', 'Premium', 54.00, '4K', 4, 12),
('PLA00040', 'Básico Anual', 26.00, 'HD', 1, 12);

INSERT INTO conteudos (id_conteudo, titulo, tipo, genero, ano_lancamento, duracao_minutos, classificacao_etaria, status_disponibilidade, avaliacao) VALUES
('CON00001', 'O Herói do Futuro', 'Filme', 'Ação', 2023, 120, '12', 'Disponível', 4.2),
('CON00002', 'Mistérios do Passado', 'Série', 'Drama', 2021, 45, '16', 'Disponível', 4.8),
('CON00003', 'Risos sem Fim', 'Filme', 'Comédia', 2020, 90, 'Livre', 'Indisponível', 3.5),
('CON00004', 'Planeta Azul', 'Documentário', 'Documentário', 2022, 60, 'Livre', 'Em Breve', 4.0),
('CON00005', 'Guerra nas Estrelas', 'Série', 'Ficção', 2024, 50, '12', 'Disponível', 4.7),
('CON00006', 'Aventura na Selva', 'Filme', 'Ação', 2019, 110, '10', 'Disponível', 3.8),
('CON00007', 'Segredos de Família', 'Série', 'Drama', 2020, 40, '16', 'Disponível', 4.3),
('CON00008', 'Comédia Total', 'Filme', 'Comédia', 2021, 85, 'Livre', 'Indisponível', 3.2),
('CON00009', 'Vida Selvagem', 'Documentário', 'Documentário', 2023, 55, 'Livre', 'Disponível', 4.5),
('CON00010', 'Órbita Perdida', 'Série', 'Ficção', 2022, 48, '12', 'Em Breve', 4.1),
('CON00011', 'Caçadores de Tesouros', 'Filme', 'Ação', 2018, 115, '12', 'Disponível', 3.9),
('CON00012', 'Sombras do Crime', 'Série', 'Drama', 2023, 42, '18', 'Disponível', 4.6),
('CON00013', 'Piadas e Mais', 'Filme', 'Comédia', 2022, 95, 'Livre', 'Disponível', 3.7),
('CON00014', 'Oceanos Profundos', 'Documentário', 'Documentário', 2021, 65, 'Livre', 'Indisponível', 4.2),
('CON00015', 'Invasores do Espaço', 'Série', 'Ficção', 2020, 46, '12', 'Disponível', 4.4),
('CON00016', 'Fuga Impossível', 'Filme', 'Ação', 2024, 125, '16', 'Em Breve', 4.0),
('CON00017', 'Amores Perdidos', 'Série', 'Drama', 2019, 38, '16', 'Disponível', 4.5),
('CON00018', 'Rir é o Melhor', 'Filme', 'Comédia', 2023, 88, 'Livre', 'Disponível', 3.4),
('CON00019', 'Vida no Ártico', 'Documentário', 'Documentário', 2022, 58, 'Livre', 'Disponível', 4.3),
('CON00020', 'Viagem Estelar', 'Série', 'Ficção', 2021, 49, '12', 'Indisponível', 4.2),
('CON00021', 'O Último Guerreiro', 'Filme', 'Ação', 2020, 118, '12', 'Disponível', 3.8),
('CON00022', 'Intrigas do Poder', 'Série', 'Drama', 2022, 43, '18', 'Disponível', 4.7),
('CON00023', 'Risos Garantidos', 'Filme', 'Comédia', 2021, 92, 'Livre', 'Em Breve', 3.6),
('CON00024', 'Mundos Submersos', 'Documentário', 'Documentário', 2023, 62, 'Livre', 'Disponível', 4.4),
('CON00025', 'Colônia Lunar', 'Série', 'Ficção', 2024, 47, '12', 'Disponível', 4.6),
('CON00026', 'Perseguição Urbana', 'Filme', 'Ação', 2019, 112, '16', 'Disponível', 3.9),
('CON00027', 'Vidas Cruzadas', 'Série', 'Drama', 2020, 41, '16', 'Indisponível', 4.3),
('CON00028', 'Humor sem Limites', 'Filme', 'Comédia', 2022, 87, 'Livre', 'Disponível', 3.3),
('CON00029', 'Florestas Vivas', 'Documentário', 'Documentário', 2021, 57, 'Livre', 'Disponível', 4.5),
('CON00030', 'Fronteira Cósmica', 'Série', 'Ficção', 2023, 50, '12', 'Disponível', 4.1),
('CON00031', 'Batalha Final', 'Filme', 'Ação', 2021, 119, '12', 'Em Breve', 3.7),
('CON00032', 'Segredos Obscuros', 'Série', 'Drama', 2022, 44, '18', 'Disponível', 4.8),
('CON00033', 'Comédia em Cena', 'Filme', 'Comédia', 2020, 90, 'Livre', 'Disponível', 3.5),
('CON00034', 'Vulcões Ativos', 'Documentário', 'Documentário', 2023, 60, 'Livre', 'Indisponível', 4.2),
('CON00035', 'Missão Intergaláctica', 'Série', 'Ficção', 2021, 48, '12', 'Disponível', 4.4),
('CON00036', 'Corrida Mortal', 'Filme', 'Ação', 2022, 116, '16', 'Disponível', 3.8),
('CON00037', 'Histórias Reais', 'Série', 'Drama', 2020, 39, '16', 'Disponível', 4.6),
('CON00038', 'Rir até Chorar', 'Filme', 'Comédia', 2023, 89, 'Livre', 'Em Breve', 3.4),
('CON00039', 'Desertos do Mundo', 'Documentário', 'Documentário', 2022, 59, 'Livre', 'Disponível', 4.3),
('CON00040', 'Exploradores do Espaço', 'Série', 'Ficção', 2024, 46, '12', 'Disponível', 4.5);

INSERT INTO usuarios (id_usuario, nome, email, telefone, data_cadastro, plano_assinatura_id, nickname) VALUES
('USR00001', 'Eraldo Alves Chacon', 'eraldochacon@gmail.com', '(11) 98765-4321', '2024-01-15', 'PLA00001', 'ChaC0'),
('USR00002', 'Terezinha Alves Camargos', 'terezinha@yahoo.com', '(21) 97654-3210', '2024-02-20', 'PLA00002', 'TerZ4'),
('USR00003', 'Amancio Joaquim Chacon', 'amanciocacon@outlook.com', '(31) 96543-2109', '2024-03-10', 'PLA00003', 'AmaC4'),
('USR00004', 'Diego Ferreira', 'diego.ferreira4@gmail.com', '(41) 95432-1098', '2024-04-05', 'PLA00004', 'DieF4'),
('USR00005', 'Elisa Mendes', 'elisa.mendes5@hotmail.com', '(51) 94321-0987', '2024-05-12', 'PLA00005', 'EliM5'),
('USR00006', 'Felipe Gomes', 'felipe.gomes6@gmail.com', '(61) 93210-9876', '2024-06-18', 'PLA00006', 'FelG6'),
('USR00007', 'Gabriela Rocha', 'gabriela.rocha7@yahoo.com', '(71) 92109-8765', '2024-07-22', 'PLA00007', 'GabR7'),
('USR00008', 'Henrique Lima', 'henrique.lima8@outlook.com', '(81) 91098-7654', '2024-08-30', 'PLA00008', 'HenL8'),
('USR00009', 'Isabela Santos', 'isabela.santos9@gmail.com', '(91) 90987-6543', '2024-09-15', 'PLA00009', 'IsaS9'),
('USR00010', 'João Pedro', 'joao.pedro10@hotmail.com', '(11) 99876-5432', '2024-10-10', 'PLA00010', 'JoaP10'),
('USR00011', 'Karla Ferreira', 'karla.ferreira11@gmail.com', '(21) 98765-4321', '2024-11-05', 'PLA00011', 'KarF11'),
('USR00012', 'Lucas Oliveira', 'lucas.oliveira12@yahoo.com', '(31) 97654-3210', '2024-12-01', 'PLA00012', 'LucO12'),
('USR00013', 'Marina Costa', 'marina.costa13@outlook.com', '(41) 96543-2109', '2025-01-15', 'PLA00013', 'MarC13'),
('USR00014', 'Natália Mendes', 'natalia.mendes14@gmail.com', '(51) 95432-1098', '2025-02-20', 'PLA00014', 'NatM14'),
('USR00015', 'Otávio Pereira', 'otavio.pereira15@hotmail.com', '(61) 94321-0987', '2025-03-10', 'PLA00015', 'OtaP15'),
('USR00016', 'Patrícia Almeida', 'patricia.almeida16@gmail.com', '(71) 93210-9876', '2025-04-05', 'PLA00016', 'PatA16'),
('USR00017', 'Rafael Lima', 'rafael.lima17@yahoo.com', '(81) 92109-8765', '2025-05-12', 'PLA00017', 'RafL17'),
('USR00018', 'Sofia Castro', 'sofia.castro18@outlook.com', '(91) 91098-7654', '2025-06-18', 'PLA00018', 'SofC18'),
('USR00019', 'Thiago Santos', 'thiago.santos19@gmail.com', '(11) 90987-6543', '2025-07-22', 'PLA00019', 'ThiS19'),
('USR00020', 'Vanessa Souza', 'vanessa.souza20@hotmail.com', '(21) 99876-5432', '2025-08-30', 'PLA00020', 'VanS20'),
('USR00021', 'André Gomes', 'andre.gomes21@gmail.com', '(31) 98765-4321', '2024-01-20', 'PLA00021', 'AndG21'),
('USR00022', 'Beatriz Lima', 'beatriz.lima22@yahoo.com', '(41) 97654-3210', '2024-02-25', 'PLA00022', 'BeaL22'),
('USR00023', 'César Rocha', 'cesar.rocha23@outlook.com', '(51) 96543-2109', '2024-03-15', 'PLA00023', 'CesR23'),
('USR00024', 'Daniela Mendes', 'daniela.mendes24@gmail.com', '(61) 95432-1098', '2024-04-10', 'PLA00024', 'DanM24'),
('USR00025', 'Eduardo Ferreira', 'eduardo.ferreira25@hotmail.com', '(71) 94321-0987', '2024-05-18', 'PLA00025', 'EduF25'),
('USR00026', 'Fernanda Costa', 'fernanda.costa26@gmail.com', '(81) 93210-9876', '2024-06-22', 'PLA00026', 'FerC26'),
('USR00027', 'Gustavo Almeida', 'gustavo.almeida27@yahoo.com', '(91) 92109-8765', '2024-07-30', 'PLA00027', 'GusA27'),
('USR00028', 'Helena Santos', 'helena.santos28@outlook.com', '(11) 91098-7654', '2024-08-15', 'PLA00028', 'HelS28'),
('USR00029', 'Igor Lima', 'igor.lima29@gmail.com', '(21) 90987-6543', '2024-09-10', 'PLA00029', 'IgoL29'),
('USR00030', 'Juliana Castro', 'juliana.castro30@hotmail.com', '(31) 99876-5432', '2024-10-05', 'PLA00030', 'JulC30'),
('USR00031', 'Leonardo Rocha', 'leonardo.rocha31@gmail.com', '(41) 98765-4321', '2024-11-01', 'PLA00031', 'LeoR31'),
('USR00032', 'Mariana Mendes', 'mariana.mendes32@yahoo.com', '(51) 97654-3210', '2024-12-15', 'PLA00032', 'MarM32'),
('USR00033', 'Nicolas Oliveira', 'nicolas.oliveira33@outlook.com', '(61) 96543-2109', '2025-01-20', 'PLA00033', 'NicO33'),
('USR00034', 'Priscila Ferreira', 'priscila.ferreira34@gmail.com', '(71) 95432-1098', '2025-02-25', 'PLA00034', 'PriF34'),
('USR00035', 'Renato Almeida', 'renato.almeida35@hotmail.com', '(81) 94321-0987', '2025-03-15', 'PLA00035', 'RenA35'),
('USR00036', 'Sabrina Lima', 'sabrina.lima36@gmail.com', '(91) 93210-9876', '2025-04-10', 'PLA00036', 'SabL36'),
('USR00037', 'Tiago Santos', 'tiago.santos37@yahoo.com', '(11) 92109-8765', '2025-05-18', 'PLA00037', 'TiaS37'),
('USR00038', 'Valentina Castro', 'valentina.castro38@outlook.com', '(21) 91098-7654', '2025-06-22', 'PLA00038', 'ValC38'),
('USR00039', 'Vinícius Oliveira', 'vinicius.oliveira39@gmail.com', '(31) 90987-6543', '2025-07-30', 'PLA00039', 'VinO39'),
('USR00040', 'Yasmin Souza', 'yasmin.souza40@hotmail.com', '(41) 99876-5432', '2025-08-15', 'PLA00040', 'YasS40');

INSERT INTO historico_visualizacao (id_hvisualizacao, id_usuario, id_conteudo, data_visualizacao, progresso_percentual) VALUES
('VIS00001', 'USR00001', 'CON00001', '2025-01-10 14:30:00', 75.50),
('VIS00002', 'USR00002', 'CON00002', '2025-01-15 20:15:00', 90.25),
('VIS00003', 'USR00003', 'CON00003', '2025-01-20 18:45:00', 20.75),
('VIS00004', 'USR00004', 'CON00004', '2025-01-25 16:00:00', 100.00),
('VIS00005', 'USR00005', 'CON00005', '2025-02-01 22:10:00', 65.30),
('VIS00006', 'USR00006', 'CON00006', '2025-02-05 19:20:00', 45.80),
('VIS00007', 'USR00007', 'CON00007', '2025-02-10 21:30:00', 80.15),
('VIS00008', 'USR00008', 'CON00008', '2025-02-15 17:45:00', 30.60),
('VIS00009', 'USR00009', 'CON00009', '2025-02-20 15:00:00', 95.40),
('VIS00010', 'USR00010', 'CON00010', '2025-02-25 23:00:00', 70.20),
('VIS00011', 'USR00011', 'CON00011', '2025-03-01 14:15:00', 50.90),
('VIS00012', 'USR00012', 'CON00012', '2025-03-05 20:30:00', 85.75),
('VIS00013', 'USR00013', 'CON00013', '2025-03-10 18:00:00', 25.30),
('VIS00014', 'USR00014', 'CON00014', '2025-03-15 16:45:00', 100.00),
('VIS00015', 'USR00015', 'CON00015', '2025-03-20 22:20:00', 60.50),
('VIS00016', 'USR00016', 'CON00016', '2025-03-25 19:10:00', 40.80),
('VIS00017', 'USR00017', 'CON00017', '2025-04-01 21:25:00', 78.90),
('VIS00018', 'USR00018', 'CON00018', '2025-04-05 17:30:00', 35.70),
('VIS00019', 'USR00019', 'CON00019', '2025-04-10 15:15:00', 92.40),
('VIS00020', 'USR00020', 'CON00020', '2025-04-15 23:45:00', 68.10),
('VIS00021', 'USR00021', 'CON00021', '2025-04-20 14:00:00', 55.20),
('VIS00022', 'USR00022', 'CON00022', '2025-04-25 20:00:00', 88.30),
('VIS00023', 'USR00023', 'CON00023', '2025-05-01 18:30:00', 22.60),
('VIS00024', 'USR00024', 'CON00024', '2025-05-05 16:15:00', 97.50),
('VIS00025', 'USR00025', 'CON00025', '2025-05-10 22:45:00', 62.80),
('VIS00026', 'USR00026', 'CON00026', '2025-05-15 19:00:00', 48.90),
('VIS00027', 'USR00027', 'CON00027', '2025-01-12 21:10:00', 76.40),
('VIS00028', 'USR00028', 'CON00028', '2025-01-17 17:20:00', 33.10),
('VIS00029', 'USR00029', 'CON00029', '2025-01-22 15:30:00', 91.70),
('VIS00030', 'USR00030', 'CON00030', '2025-01-27 23:15:00', 66.20),
('VIS00031', 'USR00031', 'CON00031', '2025-02-02 14:40:00', 52.30),
('VIS00032', 'USR00032', 'CON00032', '2025-02-07 20:50:00', 87.90),
('VIS00033', 'USR00033', 'CON00033', '2025-02-12 18:10:00', 27.40),
('VIS00034', 'USR00034', 'CON00034', '2025-02-17 16:25:00', 99.00),
('VIS00035', 'USR00035', 'CON00035', '2025-02-22 22:35:00', 64.70),
('VIS00036', 'USR00036', 'CON00036', '2025-03-01 19:45:00', 42.80),
('VIS00037', 'USR00037', 'CON00037', '2025-03-06 21:55:00', 79.60),
('VIS00038', 'USR00038', 'CON00038', '2025-03-11 17:05:00', 36.90),
('VIS00039', 'USR00039', 'CON00039', '2025-03-16 15:20:00', 94.30),
('VIS00040', 'USR00040', 'CON00040', '2025-03-21 23:30:00', 69.50);

INSERT INTO avaliacoes (id_avaliacao, id_usuario, id_conteudo, nota, comentario, data_avaliacao) VALUES
('AVA00001', 'USR00001', 'CON00001', 4, 'Muito emocionante!', '2025-01-11'),
('AVA00002', 'USR00002', 'CON00002', 5, 'Melhor série que vi!', '2025-01-16'),
('AVA00003', 'USR00003', 'CON00003', 3, NULL, '2025-01-21'),
('AVA00004', 'USR00004', 'CON00004', 4, 'Interessante e informativo.', '2025-01-26'),
('AVA00005', 'USR00005', 'CON00005', 5, 'Efeitos incríveis!', '2025-02-02'),
('AVA00006', 'USR00006', 'CON00006', 3, NULL, '2025-02-06'),
('AVA00007', 'USR00007', 'CON00007', 4, 'História envolvente.', '2025-02-11'),
('AVA00008', 'USR00008', 'CON00008', 2, 'Esperava mais humor.', '2025-02-16'),
('AVA00009', 'USR00009', 'CON00009', 5, NULL, '2025-02-21'),
('AVA00010', 'USR00010', 'CON00010', 4, 'Boa trama de ficção.', '2025-02-26'),
('AVA00011', 'USR00011', 'CON00011', 3, NULL, '2025-03-02'),
('AVA00012', 'USR00012', 'CON00012', 5, 'Suspense de tirar o fôlego!', '2025-03-06'),
('AVA00013', 'USR00013', 'CON00013', 3, 'Razoável, mas divertido.', '2025-03-11'),
('AVA00014', 'USR00014', 'CON00014', 4, NULL, '2025-03-16'),
('AVA00015', 'USR00015', 'CON00015', 5, 'Cenários incríveis!', '2025-03-21'),
('AVA00016', 'USR00016', 'CON00016', 3, 'Poderia ser mais dinâmico.', '2025-03-26'),
('AVA00017', 'USR00017', 'CON00017', 4, NULL, '2025-04-02'),
('AVA00018', 'USR00018', 'CON00018', 2, 'Não gostei muito.', '2025-04-06'),
('AVA00019', 'USR00019', 'CON00019', 5, 'Muito bem produzido!', '2025-04-11'),
('AVA00020', 'USR00020', 'CON00020', 4, NULL, '2025-04-16'),
('AVA00021', 'USR00021', 'CON00021', 3, 'Razoável, esperava mais.', '2025-04-21'),
('AVA00022', 'USR00022', 'CON00022', 5, 'Trama excelente!', '2025-04-26'),
('AVA00023', 'USR00023', 'CON00023', 3, NULL, '2025-05-02'),
('AVA00024', 'USR00024', 'CON00024', 4, 'Bem educativo.', '2025-05-06'),
('AVA00025', 'USR00025', 'CON00025', 5, 'Adorei a história!', '2025-05-11'),
('AVA00026', 'USR00026', 'CON00026', 3, NULL, '2025-05-16'),
('AVA00027', 'USR00027', 'CON00027', 4, 'Emocionante do início ao fim.', '2025-01-13'),
('AVA00028', 'USR00028', 'CON00028', 2, 'Humor fraco.', '2025-01-18'),
('AVA00029', 'USR00029', 'CON00029', 5, NULL, '2025-01-23'),
('AVA00030', 'USR00030', 'CON00030', 4, 'Boa ficção científica.', '2025-01-28'),
('AVA00031', 'USR00031', 'CON00031', 3, 'Ok, mas não empolga.', '2025-02-03'),
('AVA00032', 'USR00032', 'CON00032', 5, 'Série imperdível!', '2025-02-08'),
('AVA00033', 'USR00033', 'CON00033', 3, NULL, '2025-02-13'),
('AVA00034', 'USR00034', 'CON00034', 4, 'Imagens incríveis.', '2025-02-18'),
('AVA00035', 'USR00035', 'CON00035', 5, 'Fantástica!', '2025-02-23'),
('AVA00036', 'USR00036', 'CON00036', 3, 'Poderia ser melhor.', '2025-03-02'),
('AVA00037', 'USR00037', 'CON00037', 4, NULL, '2025-03-07'),
('AVA00038', 'USR00038', 'CON00038', 2, 'Não me prendeu.', '2025-03-12'),
('AVA00039', 'USR00039', 'CON00039', 5, 'Muito bom documentário!', '2025-03-17'),
('AVA00040', 'USR00040', 'CON00040', 4, 'Ótima série!', '2025-03-22');


SELECT c.titulo, COUNT(h.id_hvisualizacao) AS visualizacoes -- esse select destaca os filmes mais vistos com limite de 10
FROM conteudos c
JOIN historico_visualizacao h ON c.id_conteudo = h.id_conteudo
GROUP BY c.id_conteudo, c.titulo
ORDER BY visualizacoes DESC
LIMIT 10;

